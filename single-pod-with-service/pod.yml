apiVersion: v1
kind: Pod
metadata:
  name: single-pod-with-service
  namespace: ckp-bootcamp
  labels:
    name: single-pod-with-service
    app: single-pod-with-service
spec:
  containers:
    - name: single-pod-with-service
      image: arwthomasm/ckp-bootcamp-demo:single
      imagePullSecrets:
        - name: regcred
      imagePullPolicy: Always
      resources:
        limits:
          memory: "128Mi"
          cpu: "500m"
      ports:
        - containerPort: 8080
      volumeMounts:
        - mountPath: /data
          name: nginc-config
      volumes:
      - name: nginc-config
        persistentVolumeClaim:
          claimName: nginc-config
